const menuBtn=document.querySelector(".menu-btn"),menu=document.querySelector(".menu"),overlay=document.querySelector(".overlay");function showFuncs(){document.getElementById("funcs-drp").classList.toggle("show")}menuBtn&&menuBtn.addEventListener("click",function(){menuBtn.classList.toggle("menu-btn--active"),menu.classList.toggle("menu--active"),overlay.classList.toggle("overlay--active")}),overlay&&overlay.addEventListener("click",function(){menuBtn.classList.toggle("menu-btn--active"),menu.classList.toggle("menu--active"),overlay.classList.toggle("overlay--active")});const printIcon=function(e,t,i){return"<div class='icon__delete' >&#10008</div>"};if(document.getElementById("products-table")&&(table=new Tabulator("#products-table",{layout:"fitColumns",ajaxURL:window.location.origin+"/api/product_list",columns:[{title:"Id",field:"id"},{title:"Product name",field:"name",hozAlign:"left"},{title:"Comment",field:"comment"}],rowClick:function(e,t){alert("Row "+t.getData().id+" Clicked!!!!")}})),document.getElementById("users-table")&&(table=new Tabulator("#users-table",{responsiveLayout:"collapse",pagination:"remote",paginationSize:2,layout:"fitColumns",ajaxURL:window.location.origin+`/api/user_list`,paginationDataReceived:{last_page:"max_pages"},columns:[{formatter:"responsiveCollapse",width:30,minWidth:30,align:"center",resizable:!1,headerSort:!1},{title:"Id",field:"id"},{field:"actions",minWidth:50,formatter:printIcon,width:20,hozAlign:"center",cellClick:function(e,t){e.stopPropagation(),confirm("Are you sure you want to delete "+t.getRow().getData().username)&&(window.location.href=window.location.origin+"/delete_user?id="+t.getRow().getData().id)}},{title:"Username",field:"username",hozAlign:"left",minWidth:360},{title:"Email",field:"email",minWidth:160},{title:"Activated",field:"activated",minWidth:160},{title:"Role",field:"role",minWidth:160},{title:"Created",field:"created_at",sorter:"date",hozAlign:"center",minWidth:160}],rowClick:function(e,t){window.location.href=window.location.origin+"/edit_user?id="+t.getData().id}})),document.getElementById("sub_resellers-table")&&(table=new Tabulator("#sub_resellers-table",{layout:"fitColumns",ajaxURL:window.location.origin+"/api/sub_reseller_list",columns:[{title:"Id",field:"id"},{title:"Username",field:"username",hozAlign:"left"},{title:"Email",field:"email"},{title:"Activated",field:"activated"},{title:"Role",field:"role"},{title:"Created",field:"created_at",sorter:"date",hozAlign:"center"}],rowClick:function(e,t){alert("Row "+t.getData().id+" Clicked!!!!")}})),document.getElementById("resellers-table")&&(table=new Tabulator("#resellers-table",{layout:"fitColumns",ajaxURL:window.location.origin+"/api/reseller_list",columns:[{title:"Id",field:"id"},{title:"Username",field:"username",hozAlign:"left"},{title:"Email",field:"email"},{title:"Activated",field:"activated"},{title:"Role",field:"role"},{title:"Created",field:"created_at",sorter:"date",hozAlign:"center"}],rowClick:function(e,t){alert("Row "+t.getData().id+" Clicked!!!!")}})),document.getElementById("distributors-table")&&(table=new Tabulator("#distributors-table",{layout:"fitColumns",ajaxURL:window.location.origin+"/api/distributor_list",columns:[{title:"Id",field:"id"},{title:"Username",field:"username",hozAlign:"left"},{title:"Email",field:"email"},{title:"Activated",field:"activated"},{title:"Role",field:"role"},{title:"Created",field:"created_at",sorter:"date",hozAlign:"center"}],rowClick:function(e,t){alert("Row "+t.getData().id+" Clicked!!!!")}})),document.getElementById("accounts-table")){const p=document.querySelector(".icon__delete");table=new Tabulator("#accounts-table",{resizableColumns:!1,responsiveLayout:"collapse",pagination:"remote",layout:"fitColumns",ajaxURL:window.location.origin+"/api/account_list",paginationSize:20,paginationInitialPage:1,columns:[{formatter:"responsiveCollapse",width:30,minWidth:30,align:"center",resizable:!1,headerSort:!1},{title:"Id",field:"id"},{field:"actions",minWidth:50,formatter:printIcon,width:20,hozAlign:"center",cellClick:function(e,t){e.stopPropagation(),confirm("Are you sure you want to delete "+t.getRow().getData().name)&&(window.location.href=window.location.origin+"/delete_account?id="+t.getRow().getData().id)}},{title:"Name",field:"name",hozAlign:"left",minWidth:166},{title:"Ecc id",field:"ecc_id",minWidth:166},{title:"Email",field:"email",minWidth:166},{title:"Reseller",field:"reseller",minWidth:166},{title:"Created",field:"created_at",sorter:"date",hozAlign:"center",minWidth:166},{title:"Comment",field:"comment",minWidth:166}],rowClick:function(e,t){window.location.href=window.location.origin+"/edit_account?id="+t.getData().id}})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibWVudUJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm1lbnUiLCJvdmVybGF5Iiwic2hvd0Z1bmNzIiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJhZGRFdmVudExpc3RlbmVyIiwicHJpbnRJY29uIiwiY2VsbCIsImZvcm1hdHRlclBhcmFtcyIsIm9uUmVuZGVyZWQiLCJ0YWJsZSIsIlRhYnVsYXRvciIsImxheW91dCIsImFqYXhVUkwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsIm9yaWdpbiIsImNvbHVtbnMiLCJ0aXRsZSIsImZpZWxkIiwiaG96QWxpZ24iLCJyb3dDbGljayIsImUiLCJyb3ciLCJhbGVydCIsImdldERhdGEiLCJpZCIsInJlc3BvbnNpdmVMYXlvdXQiLCJwYWdpbmF0aW9uIiwicGFnaW5hdGlvblNpemUiLCJgIiwiYXBpIiwidXNlcl9saXN0YCIsInBhZ2luYXRpb25EYXRhUmVjZWl2ZWQiLCJsYXN0X3BhZ2UiLCJmb3JtYXR0ZXIiLCJ3aWR0aCIsIm1pbldpZHRoIiwiYWxpZ24iLCJyZXNpemFibGUiLCJoZWFkZXJTb3J0IiwiY2VsbENsaWNrIiwic3RvcFByb3BhZ2F0aW9uIiwiY29uZmlybSIsImdldFJvdyIsInVzZXJuYW1lIiwiaHJlZiIsInNvcnRlciIsImRlbGV0ZUljb24iLCJyZXNpemFibGVDb2x1bW5zIiwicGFnaW5hdGlvbkluaXRpYWxQYWdlIiwibmFtZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBQUEsUUFBQUMsU0FBQUMsY0FBQSxhQUNBQyxLQUFBRixTQUFBQyxjQUFBLFNBQ0FFLFFBQUFILFNBQUFDLGNBQUEsWUFTQSxTQUFBRyxZQUNBSixTQUFBSyxlQUFBLGFBQUFDLFVBQUFDLE9BQUEsUUFQQVIsU0FBQUEsUUFBQVMsaUJBQUEsUUFBQSxXQUNBVCxRQUFBTyxVQUFBQyxPQUFBLG9CQUNBTCxLQUFBSSxVQUFBQyxPQUFBLGdCQUNBSixRQUFBRyxV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QyxFQUFBcUMsU0FBQW5CLFVBQUEwQixRQUNBckMsT0FBQUMsU0FBQStCLEtBQUFoQyxPQUFBQyxTQUFBQyxPQUFBLHNCQUFBVCxFQUFBcUMsU0FBQW5CLFVBQUFDLE1BSUEsQ0FBQVIsTUFBQSxPQUFBQyxNQUFBLE9BQUFDLFNBQUEsT0FBQWlCLFNBQUEsS0FDQSxDQUFBbkIsTUFBQSxTQUFBQyxNQUFBLFNBQUFrQixTQUFBLEtBQ0EsQ0FBQW5CLE1BQUEsUUFBQUMsTUFBQSxRQUFBa0IsU0FBQSxLQUNBLENBQUFuQixNQUFBLFdBQUFDLE1BQUEsV0FBQWtCLFNBQUEsS0FDQSxDQUFBbkIsTUFBQSxVQUFBQyxNQUFBLGFBQUE0QixPQUFBLE9BQUEzQixTQUFBLFNBQUFpQixTQUFBLEtBQ0EsQ0FBQW5CLE1BQUEsVUFBQUMsTUFBQSxVQUFBa0IsU0FBQSxNQUVBaEIsU0FBQSxTQUFBQyxFQUFBQyxHQUNBVCxPQUFBQyxTQUFBK0IsS0FBQWhDLE9BQUFDLFNBQUFDLE9BQUEsb0JBQUFPLEVBQUFFLFVBQUFDIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbWVudUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51LWJ0bicpO1xyXG5jb25zdCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnUnKTtcclxuY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vdmVybGF5Jyk7XHJcblxyXG5cclxubWVudUJ0biAmJiBtZW51QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gIG1lbnVCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnbWVudS1idG4tLWFjdGl2ZScpO1xyXG4gIG1lbnUuY2xhc3NMaXN0LnRvZ2dsZSgnbWVudS0tYWN0aXZlJyk7XHJcbiAgb3ZlcmxheS5jbGFzc0xpc3QudG9nZ2xlKCdvdmVybGF5LS1hY3RpdmUnKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBzaG93RnVuY3MoKSB7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmdW5jcy1kcnBcIikuY2xhc3NMaXN0LnRvZ2dsZShcInNob3dcIik7XHJcbn1cclxuXHJcbm92ZXJsYXkgJiYgb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICBtZW51QnRuLmNsYXNzTGlzdC50b2dnbGUoJ21lbnUtYnRuLS1hY3RpdmUnKTtcclxuICBtZW51LmNsYXNzTGlzdC50b2dnbGUoJ21lbnUtLWFjdGl2ZScpO1xyXG4gIG92ZXJsYXkuY2xhc3NMaXN0LnRvZ2dsZSgnb3ZlcmxheS0tYWN0aXZlJyk7XHJcbn0pXHJcbmNvbnN0IHByaW50SWNvbiA9IGZ1bmN0aW9uKGNlbGwsIGZvcm1hdHRlclBhcmFtcywgb25SZW5kZXJlZCl7IC8vcGxhaW4gdGV4dCB2YWx1ZVxyXG4gIHJldHVybiAgXCI8ZGl2IGNsYXNzPSdpY29uX19kZWxldGUnID4mIzEwMDA4PC9kaXY+XCJcclxufTtcclxuaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9kdWN0cy10YWJsZScpKSB7XHJcbiAgdGFibGUgPSBuZXcgVGFidWxhdG9yKFwiI3Byb2R1Y3RzLXRhYmxlXCIsIHtcclxuICAgIC8vIGhlaWdodDoyMDUsIC8vIHNldCBoZWlnaHQgb2YgdGFibGUgKGluIENTUyBvciBoZXJlKSwgdGhpcyBlbmFibGVzIHRoZSBWaXJ0dWFsIERPTSBhbmQgaW1wcm92ZXMgcmVuZGVyIHNwZWVkIGRyYW1hdGljYWxseSAoY2FuIGJlIGFueSB2YWxpZCBjc3MgaGVpZ2h0IHZhbHVlKVxyXG4gICAgbGF5b3V0OiBcImZpdENvbHVtbnNcIiwgLy9maXQgY29sdW1ucyB0byB3aWR0aCBvZiB0YWJsZSAob3B0aW9uYWwpXHJcbiAgICBhamF4VVJMOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy9hcGkvcHJvZHVjdF9saXN0JyxcclxuICAgIGNvbHVtbnM6IFsgLy9EZWZpbmUgVGFibGUgQ29sdW1uc1xyXG4gICAgICB7IHRpdGxlOiBcIklkXCIsIGZpZWxkOiBcImlkXCIgfSxcclxuICAgICAgeyB0aXRsZTogXCJQcm9kdWN0IG5hbWVcIiwgZmllbGQ6IFwibmFtZVwiLCBob3pBbGlnbjogXCJsZWZ0XCIgfSxcclxuICAgICAgeyB0aXRsZTogXCJDb21tZW50XCIsIGZpZWxkOiBcImNvbW1lbnRcIiB9LFxyXG4gICAgXSxcclxuICAgIHJvd0NsaWNrOiBmdW5jdGlvbiAoZSwgcm93KSB7IC8vdHJpZ2dlciBhbiBhbGVydCBtZXNzYWdlIHdoZW4gdGhlIHJvdyBpcyBjbGlja2VkXHJcbiAgICAgIGFsZXJ0KFwiUm93IFwiICsgcm93LmdldERhdGEoKS5pZCArIFwiIENsaWNrZWQhISEhXCIpO1xyXG4gICAgfSxcclxuICB9KTtcclxufVxyXG5cclxuaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2Vycy10YWJsZScpKSB7XHJcbiAgdGFibGUgPSBuZXcgVGFidWxhdG9yKFwiI3VzZXJzLXRhYmxlXCIsIHtcclxuICAgIHJlc3BvbnNpdmVMYXlvdXQ6IFwiY29sbGFwc2VcIixcclxuICAgIHBhZ2luYXRpb246XCJyZW1vdGVcIiwgLy9lbmFibGUgcmVtb3RlIHBhZ2luYXRpb25cclxuICAgIHBhZ2luYXRpb25TaXplOjIsIC8vb3B0aW9uYWwgcGFyYW1ldGVyIHRvIHJlcXVlc3QgYSBjZXJ0YWluIG51bWJlciBvZiByb3dzIHBlciBwYWdlXHJcbiAgICAvLyBoZWlnaHQ6MjA1LCAvLyBzZXQgaGVpZ2h0IG9mIHRhYmxlIChpbiBDU1Mgb3IgaGVyZSksIHRoaXMgZW5hYmxlcyB0aGUgVmlydHVhbCBET00gYW5kIGltcHJvdmVzIHJlbmRlciBzcGVlZCBkcmFtYXRpY2FsbHkgKGNhbiBiZSBhbnkgdmFsaWQgY3NzIGhlaWdodCB2YWx1ZSlcclxuICAgIGxheW91dDogXCJmaXRDb2x1bW5zXCIsIC8vZml0IGNvbHVtbnMgdG8gd2lkdGggb2YgdGFibGUgKG9wdGlvbmFsKVxyXG4gICAgYWpheFVSTDogd2luZG93LmxvY2F0aW9uLm9yaWdpbiArIGAvYXBpL3VzZXJfbGlzdGAgLFxyXG4gICAgcGFnaW5hdGlvbkRhdGFSZWNlaXZlZDp7XHJcbiAgICAgIFwibGFzdF9wYWdlXCI6XCJtYXhfcGFnZXNcIiwgLy9jaGFuZ2UgbGFzdF9wYWdlIHBhcmFtZXRlciBuYW1lIHRvIFwibWF4X3BhZ2VzXCJcclxuICB9ICxcclxuICAgIGNvbHVtbnM6IFsgLy9EZWZpbmUgVGFibGUgQ29sdW1uc1xyXG4gICAgICB7Zm9ybWF0dGVyOlwicmVzcG9uc2l2ZUNvbGxhcHNlXCIsIHdpZHRoOjMwLCBtaW5XaWR0aDozMCwgYWxpZ246XCJjZW50ZXJcIiwgcmVzaXphYmxlOmZhbHNlLCBoZWFkZXJTb3J0OmZhbHNlfSxcclxuICAgICAgeyB0aXRsZTogXCJJZFwiLCBmaWVsZDogXCJpZFwiIH0sXHJcbiAgICAgIHsgIGZpZWxkOlwiYWN0aW9uc1wiLG1pbldpZHRoOjUwLGZvcm1hdHRlcjpwcmludEljb24sXHJcbiAgICAgIHdpZHRoOjIwLCBob3pBbGlnbjpcImNlbnRlclwiLCBjZWxsQ2xpY2s6ZnVuY3Rpb24oZSwgY2VsbCl7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBpZiAoY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgXCIgKyBjZWxsLmdldFJvdygpLmdldERhdGEoKS51c2VybmFtZSkpe1xyXG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luK1wiL2RlbGV0ZV91c2VyP2lkPVwiK2NlbGwuZ2V0Um93KCkuZ2V0RGF0YSgpLmlkICAgICAgIH1cclxuICAgICAgICBlbHNlIHJldHVybjtcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICAgIHsgdGl0bGU6IFwiVXNlcm5hbWVcIiwgZmllbGQ6IFwidXNlcm5hbWVcIiwgaG96QWxpZ246IFwibGVmdFwiICwgbWluV2lkdGg6MzYwfSxcclxuICAgICAgeyB0aXRsZTogXCJFbWFpbFwiLCBmaWVsZDogXCJlbWFpbFwiLG1pbldpZHRoOjE2MCB9LFxyXG4gICAgICB7IHRpdGxlOiBcIkFjdGl2YXRlZFwiLCBmaWVsZDogXCJhY3RpdmF0ZWRcIixtaW5XaWR0aDoxNjAgfSxcclxuICAgICAgeyB0aXRsZTogXCJSb2xlXCIsIGZpZWxkOiBcInJvbGVcIiAsbWluV2lkdGg6MTYwfSxcclxuICAgICAgeyB0aXRsZTogXCJDcmVhdGVkXCIsIGZpZWxkOiBcImNyZWF0ZWRfYXRcIiwgc29ydGVyOiBcImRhdGVcIiwgaG96QWxpZ246IFwiY2VudGVyXCIsbWluV2lkdGg6MTYwIH0sXHJcbiAgICBdLFxyXG4gICAgcm93Q2xpY2s6ZnVuY3Rpb24oZSwgcm93KXtcclxuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luK1wiL2VkaXRfdXNlcj9pZD1cIityb3cuZ2V0RGF0YSgpLmlkXHJcbiAgICB9LFxyXG4gIH0pO1xyXG59XHJcbmlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ViX3Jlc2VsbGVycy10YWJsZScpKSB7XHJcbiAgdGFibGUgPSBuZXcgVGFidWxhdG9yKFwiI3N1Yl9yZXNlbGxlcnMtdGFibGVcIiwge1xyXG4gICAgLy8gaGVpZ2h0OjIwNSwgLy8gc2V0IGhlaWdodCBvZiB0YWJsZSAoaW4gQ1NTIG9yIGhlcmUpLCB0aGlzIGVuYWJsZXMgdGhlIFZpcnR1YWwgRE9NIGFuZCBpbXByb3ZlcyByZW5kZXIgc3BlZWQgZHJhbWF0aWNhbGx5IChjYW4gYmUgYW55IHZhbGlkIGNzcyBoZWlnaHQgdmFsdWUpXHJcbiAgICBsYXlvdXQ6IFwiZml0Q29sdW1uc1wiLCAvL2ZpdCBjb2x1bW5zIHRvIHdpZHRoIG9mIHRhYmxlIChvcHRpb25hbClcclxuICAgIGFqYXhVUkw6IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAnL2FwaS9zdWJfcmVzZWxsZXJfbGlzdCcsXHJcbiAgICBjb2x1bW5zOiBbIC8vRGVmaW5lIFRhYmxlIENvbHVtbnNcclxuICAgICAgeyB0aXRsZTogXCJJZFwiLCBmaWVsZDogXCJpZFwiIH0sXHJcbiAgICAgIHsgdGl0bGU6IFwiVXNlcm5hbWVcIiwgZmllbGQ6IFwidXNlcm5hbWVcIiwgaG96QWxpZ246IFwibGVmdFwiIH0sXHJcbiAgICAgIHsgdGl0bGU6IFwiRW1haWxcIiwgZmllbGQ6IFwiZW1haWxcIiB9LFxyXG4gICAgICB7IHRpdGxlOiBcIkFjdGl2YXRlZFwiLCBmaWVsZDogXCJhY3RpdmF0ZWRcIiB9LFxyXG4gICAgICB7IHRpdGxlOiBcIlJvbGVcIiwgZmllbGQ6IFwicm9sZVwiIH0sXHJcbiAgICAgIHsgdGl0bGU6IFwiQ3JlYXRlZFwiLCBmaWVsZDogXCJjcmVhdGVkX2F0XCIsIHNvcnRlcjogXCJkYXRlXCIsIGhvekFsaWduOiBcImNlbnRlclwiIH0sXHJcbiAgICBdLFxyXG4gICAgcm93Q2xpY2s6IGZ1bmN0aW9uIChlLCByb3cpIHsgLy90cmlnZ2VyIGFuIGFsZXJ0IG1lc3NhZ2Ugd2hlbiB0aGUgcm93IGlzIGNsaWNrZWRcclxuICAgICAgYWxlcnQoXCJSb3cgXCIgKyByb3cuZ2V0RGF0YSgpLmlkICsgXCIgQ2xpY2tlZCEhISFcIik7XHJcbiAgICB9LFxyXG4gIH0pO1xyXG59XHJcblxyXG5pZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2VsbGVycy10YWJsZScpKSB7XHJcbiAgdGFibGUgPSBuZXcgVGFidWxhdG9yKFwiI3Jlc2VsbGVycy10YWJsZVwiLCB7XHJcbiAgICAvLyBoZWlnaHQ6MjA1LCAvLyBzZXQgaGVpZ2h0IG9mIHRhYmxlIChpbiBDU1Mgb3IgaGVyZSksIHRoaXMgZW5hYmxlcyB0aGUgVmlydHVhbCBET00gYW5kIGltcHJvdmVzIHJlbmRlciBzcGVlZCBkcmFtYXRpY2FsbHkgKGNhbiBiZSBhbnkgdmFsaWQgY3NzIGhlaWdodCB2YWx1ZSlcclxuICAgIGxheW91dDogXCJmaXRDb2x1bW5zXCIsIC8vZml0IGNvbHVtbnMgdG8gd2lkdGggb2YgdGFibGUgKG9wdGlvbmFsKVxyXG4gICAgYWpheFVSTDogd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvYXBpL3Jlc2VsbGVyX2xpc3QnLFxyXG4gICAgY29sdW1uczogWyAvL0RlZmluZSBUYWJsZSBDb2x1bW5zXHJcbiAgICAgIHsgdGl0bGU6IFwiSWRcIiwgZmllbGQ6IFwiaWRcIiB9LFxyXG4gICAgICB7IHRpdGxlOiBcIlVzZXJuYW1lXCIsIGZpZWxkOiBcInVzZXJuYW1lXCIsIGhvekFsaWduOiBcImxlZnRcIiB9LFxyXG4gICAgICB7IHRpdGxlOiBcIkVtYWlsXCIsIGZpZWxkOiBcImVtYWlsXCIgfSxcclxuICAgICAgeyB0aXRsZTogXCJBY3RpdmF0ZWRcIiwgZmllbGQ6IFwiYWN0aXZhdGVkXCIgfSxcclxuICAgICAgeyB0aXRsZTogXCJSb2xlXCIsIGZpZWxkOiBcInJvbGVcIiB9LFxyXG4gICAgICB7IHRpdGxlOiBcIkNyZWF0ZWRcIiwgZmllbGQ6IFwiY3JlYXRlZF9hdFwiLCBzb3J0ZXI6IFwiZGF0ZVwiLCBob3pBbGlnbjogXCJjZW50ZXJcIiB9LFxyXG4gICAgXSxcclxuICAgIHJvd0NsaWNrOiBmdW5jdGlvbiAoZSwgcm93KSB7IC8vdHJpZ2dlciBhbiBhbGVydCBtZXNzYWdlIHdoZW4gdGhlIHJvdyBpcyBjbGlja2VkXHJcbiAgICAgIGFsZXJ0KFwiUm93IFwiICsgcm93LmdldERhdGEoKS5pZCArIFwiIENsaWNrZWQhISEhXCIpO1xyXG4gICAgfSxcclxuICB9KTtcclxufVxyXG5pZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3RyaWJ1dG9ycy10YWJsZScpKSB7XHJcbiAgdGFibGUgPSBuZXcgVGFidWxhdG9yKFwiI2Rpc3RyaWJ1dG9ycy10YWJsZVwiLCB7XHJcbiAgICAvLyBoZWlnaHQ6MjA1LCAvLyBzZXQgaGVpZ2h0IG9mIHRhYmxlIChpbiBDU1Mgb3IgaGVyZSksIHRoaXMgZW5hYmxlcyB0aGUgVmlydHVhbCBET00gYW5kIGltcHJvdmVzIHJlbmRlciBzcGVlZCBkcmFtYXRpY2FsbHkgKGNhbiBiZSBhbnkgdmFsaWQgY3NzIGhlaWdodCB2YWx1ZSlcclxuICAgIGxheW91dDogXCJmaXRDb2x1bW5zXCIsIC8vZml0IGNvbHVtbnMgdG8gd2lkdGggb2YgdGFibGUgKG9wdGlvbmFsKVxyXG4gICAgYWpheFVSTDogd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICcvYXBpL2Rpc3RyaWJ1dG9yX2xpc3QnLFxyXG4gICAgY29sdW1uczogWyAvL0RlZmluZSBUYWJsZSBDb2x1bW5zXHJcbiAgICAgIHsgdGl0bGU6IFwiSWRcIiwgZmllbGQ6IFwiaWRcIiB9LFxyXG4gICAgICB7IHRpdGxlOiBcIlVzZXJuYW1lXCIsIGZpZWxkOiBcInVzZXJuYW1lXCIsIGhvekFsaWduOiBcImxlZnRcIiB9LFxyXG4gICAgICB7IHRpdGxlOiBcIkVtYWlsXCIsIGZpZWxkOiBcImVtYWlsXCIgfSxcclxuICAgICAgeyB0aXRsZTogXCJBY3RpdmF0ZWRcIiwgZmllbGQ6IFwiYWN0aXZhdGVkXCIgfSxcclxuICAgICAgeyB0aXRsZTogXCJSb2xlXCIsIGZpZWxkOiBcInJvbGVcIiB9LFxyXG4gICAgICB7IHRpdGxlOiBcIkNyZWF0ZWRcIiwgZmllbGQ6IFwiY3JlYXRlZF9hdFwiLCBzb3J0ZXI6IFwiZGF0ZVwiLCBob3pBbGlnbjogXCJjZW50ZXJcIiB9LFxyXG4gICAgXSxcclxuICAgIHJvd0NsaWNrOiBmdW5jdGlvbiAoZSwgcm93KSB7IC8vdHJpZ2dlciBhbiBhbGVydCBtZXNzYWdlIHdoZW4gdGhlIHJvdyBpcyBjbGlja2VkXHJcbiAgICAgIGFsZXJ0KFwiUm93IFwiICsgcm93LmdldERhdGEoKS5pZCArIFwiIENsaWNrZWQhISEhXCIpO1xyXG4gICAgfSxcclxuICB9KTtcclxufVxyXG5cclxuaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY2NvdW50cy10YWJsZScpKSB7XHJcblxyXG5jb25zdCBkZWxldGVJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pY29uX19kZWxldGVcIik7XHJcbiAgdGFibGUgPSBuZXcgVGFidWxhdG9yKFwiI2FjY291bnRzLXRhYmxlXCIsIHtcclxuICAgIHJlc2l6YWJsZUNvbHVtbnM6ZmFsc2UsXHJcbiAgICByZXNwb25zaXZlTGF5b3V0Oidjb2xsYXBzZScsXHJcbiAgICBwYWdpbmF0aW9uOlwicmVtb3RlXCIsIC8vZW5hYmxlIHJlbW90ZSBwYWdpbmF0aW9uXHJcbiAgICBsYXlvdXQ6XCJmaXRDb2x1bW5zXCIsXHJcbiAgICBhamF4VVJMOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy9hcGkvYWNjb3VudF9saXN0JyxcclxuICAgIHBhZ2luYXRpb25TaXplOjIwLCAvL29wdGlvbmFsIHBhcmFtZXRlciB0byByZXF1ZXN0IGEgY2VydGFpbiBudW1iZXIgb2Ygcm93cyBwZXIgcGFnZVxyXG4gICAgcGFnaW5hdGlvbkluaXRpYWxQYWdlOjEsIC8vb3B0aW9uYWwgcGFyYW1ldGVyIHRvIHNldCB0aGUgaW5pdGlhbCBwYWdlIHRvIGxvYWRcclxuICAgIGNvbHVtbnM6IFsgLy9EZWZpbmUgVGFibGUgQ29sdW1uc1xyXG4gICAgICB7Zm9ybWF0dGVyOlwicmVzcG9uc2l2ZUNvbGxhcHNlXCIsIHdpZHRoOjMwLCBtaW5XaWR0aDozMCwgYWxpZ246XCJjZW50ZXJcIiwgcmVzaXphYmxlOmZhbHNlLCBoZWFkZXJTb3J0OmZhbHNlfSxcclxuICAgICAgeyB0aXRsZTogXCJJZFwiLCBmaWVsZDogXCJpZFwiLCB9LFxyXG5cclxuXHJcbiAgICAgIHsgIGZpZWxkOlwiYWN0aW9uc1wiLG1pbldpZHRoOjUwLGZvcm1hdHRlcjpwcmludEljb24sXHJcbiAgICAgIHdpZHRoOjIwLCBob3pBbGlnbjpcImNlbnRlclwiLCBjZWxsQ2xpY2s6ZnVuY3Rpb24oZSwgY2VsbCl7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBpZiAoY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgXCIgKyBjZWxsLmdldFJvdygpLmdldERhdGEoKS5uYW1lKSl7XHJcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4rXCIvZGVsZXRlX2FjY291bnQ/aWQ9XCIrY2VsbC5nZXRSb3coKS5nZXREYXRhKCkuaWQgICAgICAgfVxyXG4gICAgICAgIGVsc2UgcmV0dXJuO1xyXG4gICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICB7IHRpdGxlOiBcIk5hbWVcIiwgZmllbGQ6IFwibmFtZVwiLCBob3pBbGlnbjogXCJsZWZ0XCIgLG1pbldpZHRoOjE2Nn0sXHJcbiAgICAgIHsgdGl0bGU6IFwiRWNjIGlkXCIsIGZpZWxkOiBcImVjY19pZFwiICxtaW5XaWR0aDoxNjZ9LFxyXG4gICAgICB7IHRpdGxlOiBcIkVtYWlsXCIsIGZpZWxkOiBcImVtYWlsXCIsbWluV2lkdGg6MTY2IH0sXHJcbiAgICAgIHsgdGl0bGU6IFwiUmVzZWxsZXJcIiwgZmllbGQ6IFwicmVzZWxsZXJcIiAsbWluV2lkdGg6MTY2fSxcclxuICAgICAgeyB0aXRsZTogXCJDcmVhdGVkXCIsIGZpZWxkOiBcImNyZWF0ZWRfYXRcIiwgc29ydGVyOiBcImRhdGVcIiwgaG96QWxpZ246IFwiY2VudGVyXCIsbWluV2lkdGg6MTY2IH0sXHJcbiAgICAgIHsgdGl0bGU6IFwiQ29tbWVudFwiLCBmaWVsZDogXCJjb21tZW50XCIgLG1pbldpZHRoOjE2Nn0sXHJcbiAgICBdLFxyXG4gICAgcm93Q2xpY2s6ZnVuY3Rpb24oZSwgcm93KXtcclxuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luK1wiL2VkaXRfYWNjb3VudD9pZD1cIityb3cuZ2V0RGF0YSgpLmlkXHJcbiAgICB9XHJcbiAgfSk7fSJdfQ==
